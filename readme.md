# Vietlot data
## Predictions (just for testing, not a financial advice)
These are backtest results for the strategies I have developed
### random
predicted: 20 / day (20 tickets perday or 200,000 vnd)
predicted corrected:
| date   | result   | predicted   |
|--------|----------|-------------| 

## raw details 6/55
| date       |    id | result                       |   page | process_time               |
|:-----------|------:|:-----------------------------|-------:|:---------------------------|
| 2024-04-06 | 01018 | [9, 13, 20, 30, 39, 54, 23]  |      0 | 2024-04-08T08:34:33.253002 |
| 2024-04-04 | 01017 | [3, 8, 12, 25, 47, 48, 15]   |      0 | 2024-04-08T08:34:33.253072 |
| 2024-04-02 | 01016 | [1, 12, 18, 20, 51, 52, 37]  |      0 | 2024-04-08T08:34:33.253132 |
| 2024-03-30 | 01015 | [14, 17, 27, 38, 54, 55, 23] |      0 | 2024-04-08T08:34:33.253190 |
| 2024-03-28 | 01014 | [1, 7, 18, 26, 38, 49, 21]   |      0 | 2024-04-08T08:34:33.253246 |
| 2024-03-26 | 01013 | [1, 8, 13, 16, 38, 44, 47]   |      0 | 2024-04-08T08:34:33.253301 |
| 2024-03-23 | 01012 | [3, 10, 13, 30, 40, 52, 4]   |      0 | 2024-04-08T08:34:33.253356 |
| 2024-03-21 | 01011 | [12, 13, 41, 48, 49, 53, 43] |      0 | 2024-04-08T08:34:33.253413 |
| 2024-03-19 | 01010 | [6, 25, 39, 45, 46, 55, 26]  |      1 | 2024-04-08T08:34:33.125548 |
| 2024-03-16 | 01009 | [8, 36, 42, 43, 44, 55, 54]  |      1 | 2024-04-08T08:34:33.125643 |
## stats 6/55 all time
|   result |   count |    % | -   |   result |   count |    % | -   | result   | count   | %    |
|---------:|--------:|-----:|:----|---------:|--------:|-----:|:----|:---------|:--------|:-----|
|        1 |       4 | 3.57 |     |       23 |       3 | 2.68 |     | 47       | 3       | 2.68 |
|        3 |       2 | 1.79 |     |       25 |       3 | 2.68 |     | 48       | 2       | 1.79 |
|        4 |       1 | 0.89 |     |       26 |       3 | 2.68 |     | 49       | 3       | 2.68 |
|        6 |       1 | 0.89 |     |       27 |       1 | 0.89 |     | 50       | 1       | 0.89 |
|        7 |       1 | 0.89 |     |       28 |       1 | 0.89 |     | 51       | 2       | 1.79 |
|        8 |       3 | 2.68 |     |       29 |       1 | 0.89 |     | 52       | 2       | 1.79 |
|        9 |       1 | 0.89 |     |       30 |       2 | 1.79 |     | 53       | 2       | 1.79 |
|       10 |       1 | 0.89 |     |       31 |       2 | 1.79 |     | 54       | 5       | 4.46 |
|       11 |       2 | 1.79 |     |       33 |       1 | 0.89 |     | 55       | 4       | 3.57 |
|       12 |       4 | 3.57 |     |       36 |       2 | 1.79 |     |          |         |      |
|       13 |       6 | 5.36 |     |       37 |       3 | 2.68 |     |          |         |      |
|       14 |       2 | 1.79 |     |       38 |       3 | 2.68 |     |          |         |      |
|       15 |       1 | 0.89 |     |       39 |       3 | 2.68 |     |          |         |      |
|       16 |       2 | 1.79 |     |       40 |       1 | 0.89 |     |          |         |      |
|       17 |       1 | 0.89 |     |       41 |       2 | 1.79 |     |          |         |      |
|       18 |       3 | 2.68 |     |       42 |       1 | 0.89 |     |          |         |      |
|       19 |       3 | 2.68 |     |       43 |       3 | 2.68 |     |          |         |      |
|       20 |       4 | 3.57 |     |       44 |       2 | 1.79 |     |          |         |      |
|       21 |       4 | 3.57 |     |       45 |       1 | 0.89 |     |          |         |      |
|       22 |       2 | 1.79 |     |       46 |       2 | 1.79 |     |          |         |      |
## stats 6/55 -15d
|   result |   count |    % | -   |   result |   count |   % | -   | result   | count   | %   |
|---------:|--------:|-----:|:----|---------:|--------:|----:|:----|:---------|:--------|:----|
|        1 |       3 | 3.3  |     |       25 |       3 | 3.3 |     | 52       | 2       | 2.2 |
|        3 |       2 | 2.2  |     |       26 |       3 | 3.3 |     | 53       | 1       | 1.1 |
|        4 |       1 | 1.1  |     |       27 |       1 | 1.1 |     | 54       | 3       | 3.3 |
|        6 |       1 | 1.1  |     |       29 |       1 | 1.1 |     | 55       | 3       | 3.3 |
|        7 |       1 | 1.1  |     |       30 |       2 | 2.2 |     |          |         |     |
|        8 |       3 | 3.3  |     |       36 |       2 | 2.2 |     |          |         |     |
|        9 |       1 | 1.1  |     |       37 |       2 | 2.2 |     |          |         |     |
|       10 |       1 | 1.1  |     |       38 |       3 | 3.3 |     |          |         |     |
|       11 |       2 | 2.2  |     |       39 |       3 | 3.3 |     |          |         |     |
|       12 |       3 | 3.3  |     |       40 |       1 | 1.1 |     |          |         |     |
|       13 |       5 | 5.49 |     |       41 |       2 | 2.2 |     |          |         |     |
|       14 |       2 | 2.2  |     |       42 |       1 | 1.1 |     |          |         |     |
|       15 |       1 | 1.1  |     |       43 |       3 | 3.3 |     |          |         |     |
|       16 |       2 | 2.2  |     |       44 |       2 | 2.2 |     |          |         |     |
|       17 |       1 | 1.1  |     |       45 |       1 | 1.1 |     |          |         |     |
|       18 |       3 | 3.3  |     |       46 |       2 | 2.2 |     |          |         |     |
|       20 |       3 | 3.3  |     |       47 |       2 | 2.2 |     |          |         |     |
|       21 |       2 | 2.2  |     |       48 |       2 | 2.2 |     |          |         |     |
|       22 |       2 | 2.2  |     |       49 |       3 | 3.3 |     |          |         |     |
|       23 |       2 | 2.2  |     |       51 |       2 | 2.2 |     |          |         |     |
## stats 6/55 -30d
|   result |   count |    % | -   |   result |   count |   % | -   | result   | count   | %   |
|---------:|--------:|-----:|:----|---------:|--------:|----:|:----|:---------|:--------|:----|
|        1 |       3 | 3.3  |     |       25 |       3 | 3.3 |     | 52       | 2       | 2.2 |
|        3 |       2 | 2.2  |     |       26 |       3 | 3.3 |     | 53       | 1       | 1.1 |
|        4 |       1 | 1.1  |     |       27 |       1 | 1.1 |     | 54       | 3       | 3.3 |
|        6 |       1 | 1.1  |     |       29 |       1 | 1.1 |     | 55       | 3       | 3.3 |
|        7 |       1 | 1.1  |     |       30 |       2 | 2.2 |     |          |         |     |
|        8 |       3 | 3.3  |     |       36 |       2 | 2.2 |     |          |         |     |
|        9 |       1 | 1.1  |     |       37 |       2 | 2.2 |     |          |         |     |
|       10 |       1 | 1.1  |     |       38 |       3 | 3.3 |     |          |         |     |
|       11 |       2 | 2.2  |     |       39 |       3 | 3.3 |     |          |         |     |
|       12 |       3 | 3.3  |     |       40 |       1 | 1.1 |     |          |         |     |
|       13 |       5 | 5.49 |     |       41 |       2 | 2.2 |     |          |         |     |
|       14 |       2 | 2.2  |     |       42 |       1 | 1.1 |     |          |         |     |
|       15 |       1 | 1.1  |     |       43 |       3 | 3.3 |     |          |         |     |
|       16 |       2 | 2.2  |     |       44 |       2 | 2.2 |     |          |         |     |
|       17 |       1 | 1.1  |     |       45 |       1 | 1.1 |     |          |         |     |
|       18 |       3 | 3.3  |     |       46 |       2 | 2.2 |     |          |         |     |
|       20 |       3 | 3.3  |     |       47 |       2 | 2.2 |     |          |         |     |
|       21 |       2 | 2.2  |     |       48 |       2 | 2.2 |     |          |         |     |
|       22 |       2 | 2.2  |     |       49 |       3 | 3.3 |     |          |         |     |
|       23 |       2 | 2.2  |     |       51 |       2 | 2.2 |     |          |         |     |
## stats 6/55 -60d
|   result |   count |    % | -   |   result |   count |    % | -   | result   | count   | %    |
|---------:|--------:|-----:|:----|---------:|--------:|-----:|:----|:---------|:--------|:-----|
|        1 |       4 | 3.57 |     |       23 |       3 | 2.68 |     | 47       | 3       | 2.68 |
|        3 |       2 | 1.79 |     |       25 |       3 | 2.68 |     | 48       | 2       | 1.79 |
|        4 |       1 | 0.89 |     |       26 |       3 | 2.68 |     | 49       | 3       | 2.68 |
|        6 |       1 | 0.89 |     |       27 |       1 | 0.89 |     | 50       | 1       | 0.89 |
|        7 |       1 | 0.89 |     |       28 |       1 | 0.89 |     | 51       | 2       | 1.79 |
|        8 |       3 | 2.68 |     |       29 |       1 | 0.89 |     | 52       | 2       | 1.79 |
|        9 |       1 | 0.89 |     |       30 |       2 | 1.79 |     | 53       | 2       | 1.79 |
|       10 |       1 | 0.89 |     |       31 |       2 | 1.79 |     | 54       | 5       | 4.46 |
|       11 |       2 | 1.79 |     |       33 |       1 | 0.89 |     | 55       | 4       | 3.57 |
|       12 |       4 | 3.57 |     |       36 |       2 | 1.79 |     |          |         |      |
|       13 |       6 | 5.36 |     |       37 |       3 | 2.68 |     |          |         |      |
|       14 |       2 | 1.79 |     |       38 |       3 | 2.68 |     |          |         |      |
|       15 |       1 | 0.89 |     |       39 |       3 | 2.68 |     |          |         |      |
|       16 |       2 | 1.79 |     |       40 |       1 | 0.89 |     |          |         |      |
|       17 |       1 | 0.89 |     |       41 |       2 | 1.79 |     |          |         |      |
|       18 |       3 | 2.68 |     |       42 |       1 | 0.89 |     |          |         |      |
|       19 |       3 | 2.68 |     |       43 |       3 | 2.68 |     |          |         |      |
|       20 |       4 | 3.57 |     |       44 |       2 | 1.79 |     |          |         |      |
|       21 |       4 | 3.57 |     |       45 |       1 | 0.89 |     |          |         |      |
|       22 |       2 | 1.79 |     |       46 |       2 | 1.79 |     |          |         |      |
## stats 6/55 -90d
|   result |   count |    % | -   |   result |   count |    % | -   | result   | count   | %    |
|---------:|--------:|-----:|:----|---------:|--------:|-----:|:----|:---------|:--------|:-----|
|        1 |       4 | 3.57 |     |       23 |       3 | 2.68 |     | 47       | 3       | 2.68 |
|        3 |       2 | 1.79 |     |       25 |       3 | 2.68 |     | 48       | 2       | 1.79 |
|        4 |       1 | 0.89 |     |       26 |       3 | 2.68 |     | 49       | 3       | 2.68 |
|        6 |       1 | 0.89 |     |       27 |       1 | 0.89 |     | 50       | 1       | 0.89 |
|        7 |       1 | 0.89 |     |       28 |       1 | 0.89 |     | 51       | 2       | 1.79 |
|        8 |       3 | 2.68 |     |       29 |       1 | 0.89 |     | 52       | 2       | 1.79 |
|        9 |       1 | 0.89 |     |       30 |       2 | 1.79 |     | 53       | 2       | 1.79 |
|       10 |       1 | 0.89 |     |       31 |       2 | 1.79 |     | 54       | 5       | 4.46 |
|       11 |       2 | 1.79 |     |       33 |       1 | 0.89 |     | 55       | 4       | 3.57 |
|       12 |       4 | 3.57 |     |       36 |       2 | 1.79 |     |          |         |      |
|       13 |       6 | 5.36 |     |       37 |       3 | 2.68 |     |          |         |      |
|       14 |       2 | 1.79 |     |       38 |       3 | 2.68 |     |          |         |      |
|       15 |       1 | 0.89 |     |       39 |       3 | 2.68 |     |          |         |      |
|       16 |       2 | 1.79 |     |       40 |       1 | 0.89 |     |          |         |      |
|       17 |       1 | 0.89 |     |       41 |       2 | 1.79 |     |          |         |      |
|       18 |       3 | 2.68 |     |       42 |       1 | 0.89 |     |          |         |      |
|       19 |       3 | 2.68 |     |       43 |       3 | 2.68 |     |          |         |      |
|       20 |       4 | 3.57 |     |       44 |       2 | 1.79 |     |          |         |      |
|       21 |       4 | 3.57 |     |       45 |       1 | 0.89 |     |          |         |      |
|       22 |       2 | 1.79 |     |       46 |       2 | 1.79 |     |          |         |      |

# Install
 
```shell
# pip install pipenv
# add PATH C:\Users\win\.pyenv\pyenv-win\versions\3.9.1\Scripts\
$ pipenv install --dev
$ pipenv shell
$ pip install -r requirements.txt
# python src/vietlott/cli/crawl.py power_655
# python src/vietlott/cli/missing.py power_655
$ python src/render_readme.py
```
 
## via pip

```shell
pip install -i https://test.pypi.org/simple/ vietlott-data==0.1.2
```

## cli
project provides two cli

### crawl
```shell
Usage: vietlott-crawl [OPTIONS] PRODUCT

  crawl a product with a given run date or from/to index page :param ctx:
  :param product: :param run_date: :param index_from: :param index_to:
  :return:

Options:
  --run-date TEXT
  --index_from INTEGER  page index from run since we crawl by pagination the
                        pages
  --index_to INTEGER    page index from run since we crawl by pagination the
                        pages
  --help                Show this message and exit.
```

### Backfill missing data

```shell
Usage: vietlott-missing [OPTIONS] PRODUCT

  detect_missing_data and run if needed :param ctx: context :param product:
  product to run :param limit: number of pages to run :return:

Options:
  --limit INTEGER
  --help           Show this message and exit.
```

